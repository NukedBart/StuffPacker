<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="Packer.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Packer"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="exSTUFF Packer - EmbedFS 1.0">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>
        
        <TextBlock Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,0,10"
               Text="Output Path:"/>
        <TextBox Grid.Row="1" Grid.Column="1" VerticalAlignment="Center" Margin="10,0,0,10" x:Name="OutputPathBox"/>
        <Button Grid.Row="1" Grid.Column="2" VerticalAlignment="Center" 
                Margin="10,0,0,10" Content="🔍 Browse"
                Click="BrowseButton_Click"/>

        <ListBox Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="3"
             HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="0,0,0,10"
             SelectionMode="Single"
             x:Name="FilesListBox"
             SelectionChanged="FilesListBox_SelectionChanged">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{Binding Key}" />
                        <TextBlock Margin="10,0,10,0" Foreground="Orange" Text="⇨"/>
                        <TextBlock Text="{Binding Value}" />
                    </StackPanel>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>

        <StackPanel Grid.Row="3" Grid.Column="0" 
                    Grid.ColumnSpan="3" Margin="0,0,0,10"
                    Orientation="Horizontal">
            <Button Margin="0,0,10,0" x:Name="AddFileButton" Click="AddFilesButton_Click">➕ Add File</Button>
            <Button Margin="0,0,10,0" x:Name="RemoveButton" Click="RemoveButton_Click" IsEnabled="False">🗑 Remove</Button>
            <Button Margin="0,0,10,0" x:Name="PackageButton" Click="PackageButton_Click" IsEnabled="False">📦 Pakcage .stuff</Button>
            <Button Margin="0,0,10,0" x:Name="Debug_AddRandomEntriesButton" Click="AddRandomEntriesButton_Click">🎲 Add Random Entries</Button>
        </StackPanel>
    </Grid>
</Window>
